#include variables
#!/bin/sh -e
# 
# config maintainer script for the Debian <:=${PACKAGE}:> package.
# $Id: config.in 114 2005-08-04 15:04:01Z frn $
<:=@COPYRIGHT:>//

# Give names to the commandline arguments
action=$1
installed_version=$2

# common variables
FONTCACHE_PERMS=<:=$FONTCACHE_PERMS:>



. <:=${CONFMODULE}:>
db_version 2.0

<:open(FUNCTIONS,'common.functions');@FUNCTIONS=<FUNCTIONS>;close(FUNCTIONS):>//
<:=@FUNCTIONS:>//

## do the things we have to do for upgraders from old versions
# it does not harm to do the checks also when $action is reconfigure.

# we also unregister the tetex-bin/lsr-perms
db_unregister tetex-bin/lsr-perms || true

# and unregister old tex-common questions, they are not needed anymore
db_unregister tex-common/groupperm || true
db_unregister tex-common/userperm || true
db_unregister tex-common/managedlsr || true
db_unregister tex-common/cnf_name || true

# now we can also unregister the managecache questions
db_unregister tex-common/groupname || true
db_unregister tex-common/groupname_single || true
db_unregister tex-common/groupname_multi || true
db_unregister tex-common/managecache || true
db_unregister tex-common/invalid_groupname || true
db_unregister tex-common/warn_mktexcnf || true

# test whether mktex.cnf exists in TEXMFSYSCONFIG and warn the user
# mktex.cnf in TEXMFCONFIG will have the same effect, but all we can provide
# in this case is the message in NEWS.Debian
#
# disabled, we ship mktex.cnf again in /etc/texmf/web2c/, see bug 379089
# if [ -f /etc/texmf/web2c/mktex.cnf ]; then
#   db_input medium tex-common/warn_mktexcnf || true
#   db_go
# fi


# Local Variables:
# mode: shell-script
# skeleton-pair: t
# End:

